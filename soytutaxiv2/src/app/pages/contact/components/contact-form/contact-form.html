<div #formContainer
    class="bg-primary-900/15 border border-primary-500/10 rounded-3xl p-8 md:p-10 backdrop-blur-sm relative overflow-hidden transition-all duration-300">

    <!-- Success Overlay -->
    <div *ngIf="showSuccess"
        class="absolute inset-0 bg-primary-900/95 flex flex-col items-center justify-center z-20 animate-fade-in text-center p-6">
        <div class="w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-6">
            <i class="pi pi-check text-4xl text-green-400"></i>
        </div>
        <h3 class="text-2xl font-bold text-white mb-2">{{ 'contact_success_title' | translate }}</h3>
        <p class="text-text-secondary">{{ 'contact_success_message' | translate }}</p>
    </div>

    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <h3 class="text-2xl font-bold text-white mb-8 text-center md:text-left">
            {{ 'contact_form_title' | translate }}
        </h3>

        <div class="space-y-6">
            <!-- Name (Floating Label) -->
            <div class="relative group">
                <input type="text" id="name" formControlName="name" class="peer w-full px-4 py-3.5 bg-bg-secondary/50 border border-primary-500/20 rounded-xl text-white 
                           focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500
                           transition-all duration-300 placeholder-transparent"
                    [class.border-red-500]="contactForm.controls.name.invalid && contactForm.controls.name.touched"
                    placeholder="Name">
                <label for="name" class="absolute left-4 -top-2.5 bg-[#0f172a] px-1 text-sm text-primary-300 transition-all duration-300
                           peer-placeholder-shown:text-base peer-placeholder-shown:text-text-secondary peer-placeholder-shown:top-3.5 peer-placeholder-shown:bg-transparent
                           peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-primary-500 peer-focus:bg-[#0f172a]">
                    {{ 'contact_name' | translate }}
                </label>
                <p *ngIf="contactForm.controls.name.invalid && contactForm.controls.name.touched"
                    class="mt-1 text-xs text-red-400 pl-4">
                    {{ 'validations_required' | translate }}
                </p>
            </div>

            <!-- Email (Floating Label) -->
            <div class="relative group">
                <input type="email" id="email" formControlName="email" class="peer w-full px-4 py-3.5 bg-bg-secondary/50 border border-primary-500/20 rounded-xl text-white 
                           focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500
                           transition-all duration-300 placeholder-transparent"
                    [class.border-red-500]="contactForm.controls.email.invalid && contactForm.controls.email.touched"
                    placeholder="Email">
                <label for="email" class="absolute left-4 -top-2.5 bg-[#0f172a] px-1 text-sm text-primary-300 transition-all duration-300
                           peer-placeholder-shown:text-base peer-placeholder-shown:text-text-secondary peer-placeholder-shown:top-3.5 peer-placeholder-shown:bg-transparent
                           peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-primary-500 peer-focus:bg-[#0f172a]">
                    {{ 'contact_email' | translate }}
                </label>
                <p *ngIf="contactForm.controls.email.invalid && contactForm.controls.email.touched"
                    class="mt-1 text-xs text-red-400 pl-4">
                    {{ 'validations_email' | translate }}
                </p>
            </div>

            <!-- Phone (Floating Label) -->
            <div class="relative group">
                <input type="tel" id="phone" formControlName="phone" class="peer w-full px-4 py-3.5 bg-bg-secondary/50 border border-primary-500/20 rounded-xl text-white 
                           focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500
                           transition-all duration-300 placeholder-transparent" placeholder="Phone">
                <label for="phone" class="absolute left-4 -top-2.5 bg-[#0f172a] px-1 text-sm text-primary-300 transition-all duration-300
                           peer-placeholder-shown:text-base peer-placeholder-shown:text-text-secondary peer-placeholder-shown:top-3.5 peer-placeholder-shown:bg-transparent
                           peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-primary-500 peer-focus:bg-[#0f172a]">
                    {{ 'contact_phone' | translate }}
                </label>
            </div>

            <!-- Message (Floating Label) -->
            <div class="relative group">
                <textarea id="message" formControlName="message" rows="5" class="peer w-full px-4 py-3.5 bg-bg-secondary/50 border border-primary-500/20 rounded-xl text-white 
                           focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500
                           transition-all duration-300 placeholder-transparent resize-none"
                    [class.border-red-500]="contactForm.controls.message.invalid && contactForm.controls.message.touched"
                    placeholder="Message"></textarea>
                <label for="message" class="absolute left-4 -top-2.5 bg-[#0f172a] px-1 text-sm text-primary-300 transition-all duration-300
                           peer-placeholder-shown:text-base peer-placeholder-shown:text-text-secondary peer-placeholder-shown:top-3.5 peer-placeholder-shown:bg-transparent
                           peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-primary-500 peer-focus:bg-[#0f172a]">
                    {{ 'contact_message' | translate }}
                </label>
                <p *ngIf="contactForm.controls.message.invalid && contactForm.controls.message.touched"
                    class="mt-1 text-xs text-red-400 pl-4">
                    {{ 'validations_required' | translate }}
                </p>
            </div>

            <!-- Submit Button -->
            <button type="submit" [disabled]="isSubmitting"
                class="w-full py-4 bg-gradient-to-br from-[#2C5F8D] to-[#5BA3D0] text-white rounded-xl font-bold text-base shadow-lg 
                       transition-all duration-300 hover:shadow-glow-primary hover:scale-[1.02] active:scale-[0.98]
                       disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex justify-center items-center gap-2">
                <i *ngIf="isSubmitting" class="pi pi-spin pi-spinner"></i>
                <span *ngIf="!isSubmitting">{{ 'contact_send' | translate }}</span>
                <span *ngIf="isSubmitting">{{ 'common_sending' | translate }}</span>
            </button>
        </div>
    </form>
</div>