<header #headerRef class="sticky top-0 z-[100] transition-all duration-500 bg-transparent border-b border-transparent">
    <div class="max-w-[1400px] mx-auto px-4 md:px-6 py-4 flex items-center justify-between gap-4 md:gap-8">

        <!-- Logo -->
        <a routerLink="/home" class="flex items-center gap-3 transition-transform duration-300 hover:scale-105 group">
            <i
                class="pi pi-car text-2xl md:text-[28px] text-primary-300 group-hover:text-primary-200 transition-colors"></i>
            <span
                class="text-xl md:text-[22px] font-bold bg-gradient-to-br from-[#E8D5B5] to-[#5BA3D0] bg-clip-text text-transparent">
                SoyTuTaxi
            </span>
        </a>

        <!-- Navigation - Desktop -->
        <nav class="hidden lg:flex items-center gap-2 flex-1 justify-center xl:justify-start xl:pl-8">
            <a *ngFor="let link of navLinks" [routerLink]="link.route"
                routerLinkActive="!text-white !bg-primary-500/10 after:!scale-x-100" class="flex items-center gap-2 px-4 py-2.5 text-text-secondary font-medium rounded-lg 
                      transition-all duration-300 relative group overflow-hidden
                      hover:text-white hover:bg-primary-500/10">
                <i [class]="link.icon + ' text-primary-300 group-hover:text-white transition-colors'"></i>
                <span>{{ link.label | translate }}</span>

                <!-- Underline animation -->
                <span class="absolute bottom-0 left-4 right-4 h-0.5 bg-primary-300 
                             transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span>
            </a>
        </nav>

        <!-- Actions -->
        <div class="flex items-center gap-4">
            <app-language-selector />

            <!-- Mobile Menu Button -->
            <button class="lg:hidden flex flex-col gap-[5px] p-2 bg-transparent border-none cursor-pointer z-[101]"
                (click)="toggleMobileMenu()" aria-label="Toggle Menu">
                <span class="w-6 h-0.5 bg-primary-300 rounded-sm transition-all duration-300 origin-center"
                    [class.rotate-45]="mobileMenuOpen" [class.translate-y-[7px]]="mobileMenuOpen"></span>
                <span class="w-6 h-0.5 bg-primary-300 rounded-sm transition-all duration-300"
                    [class.opacity-0]="mobileMenuOpen"></span>
                <span class="w-6 h-0.5 bg-primary-300 rounded-sm transition-all duration-300 origin-center"
                    [class.-rotate-45]="mobileMenuOpen" [class.-translate-y-[7px]]="mobileMenuOpen"></span>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div class="fixed top-[72px] left-0 right-0 bg-bg-primary/95 backdrop-blur-xl border-b border-primary-500/20 
                overflow-hidden transition-all duration-300 lg:hidden shadow-2xl" [class.max-h-0]="!mobileMenuOpen"
        [class.max-h-[400px]]="mobileMenuOpen">
        <nav class="p-4 flex flex-col gap-2">
            <a *ngFor="let link of navLinks" [routerLink]="link.route" routerLinkActive="!text-white !bg-primary-500/15"
                class="flex items-center gap-3 px-4 py-3.5 text-text-secondary font-medium rounded-lg 
                      transition-all duration-300 hover:text-white hover:bg-primary-500/10"
                (click)="closeMobileMenu()">
                <i [class]="link.icon + ' text-lg text-primary-300'"></i>
                <span>{{ link.label | translate }}</span>
            </a>
        </nav>
    </div>
</header>